<!doctype html>
<html>
    <head>
	    <script type="text/javascript" src="/homey.js" data-origin="settings"></script>
		<script type="text/javascript">

        // a method named 'onHomeyReady' must be present in your code
        function onHomeyReady( Homey ){

	        // Tell Homey we're ready to be displayed
            Homey.ready();

            var ipElement = document.getElementById('ip');
            var formElement = document.getElementById('form');

            Homey.get('ip', function( err, ip ) {
	           if( err ) return Homey.alert( err );
			   ipElement.value  = ip;
	        });

	        formElement.addEventListener('submit', function(e) {
				e.preventDefault();	
	            Homey.set('ip', ipElement.value, function( err ){
		            if( err ) {
						return Homey.alert( err );
					}
				Homey.alert('saved');
	            });
	        });
        }
        </script>
    </head>
    <body>
        <h1 data-i18n="settings.title">
        </h1>
		<p data-i18n="settings.subtitle">
        </p>
		<form id="form" action="/" method="post">
	        <fieldset>
	            <legend>My Settings</legend>
	
	            <div class="field row">
	                <label for="ip">ip</label>
	                <input id="ip" type="text"/>
	            </div>
	        </fieldset>
	
	        <button type="submit" class="left">Save changes</button>
		</form>

        

    </body>
</html>